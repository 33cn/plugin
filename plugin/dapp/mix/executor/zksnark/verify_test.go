// Copyright Fuzamei Corp. 2018 All Rights Reserved.
// Use of this source code is governed by a BSD-style
// license that can be found in the LICENSE file.

package zksnark

import (
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestDeposit(t *testing.T) {
	verifyKey := "814df619a71aed3315c9cfb740269ca277bec78f1826006a3f3c2ddd4624e733d06840bc329a6efbe2ebba79972c545c85dfe6c40e58617fbe81c5960a46ff399d8e32486e9a1c91fa82ff7a2dfd40ad1cc8af0b4d4d5685430e4acea7108e952b10a13e8fdb3acca1b75c57f6ad9a3bb7b3180f8459cb4622b2fb536e521023da1b8c3424572ab9406f760a4659debd0629e7716ebf250ca801497bd7827cf92c64b21a72a98e84f615a3d6327bcf781771c7a9fd3715003223ea6367643de7e85a80e7e501cca7ddfcc5fd8aed61853f0ed76780c9a969eabfb90625c5dce88146b6f2cffbfde53105b8f1fc799896d31ae909a05f8d5cff04575f52ce916f2468648da7a3a81bf9b143b06eb56e92c2fab2ff63405ff47b695e727171bb7800000003e972123c96876df8e11b5980d29361a6eff03ca3e3b1a057cc34a738a735b542ac4c82ae834f7e31b7e79beadcdabed431f0074a7984a390f35d8a96282ed1cf813da0a5f45ae4a2a8eb2074adaaa85fc617bbdf97193ff9214f7a4693c77214"
	pubInput := "0000000218b9b448bd793dab9075f70ce404a87497b3a2d0d0b5d177441d6cada1e9b2d20000000000000000000000000000000000000000000000000000000001aef080"
	proof := "ae58e1c78542ab2329332e6eb1d80fbd6eccef6558786ef90df8dec90127e1e6a84e86a457c70fd2e1064b1c43c8d967e4a6b7f5e9b71876c3897be336817ac8056660d2d877609aff716da9fd2facb4bdd7cc8a5b3003c393293bd0fa7ff67bd342ba43e14a87dc509fd83453aa09a7e5d82e77eee7e7c96d4f37fcb402280f"

	rst, err := Verify(verifyKey, proof, pubInput)
	assert.Nil(t, err)
	assert.Equal(t, true, rst)

}
